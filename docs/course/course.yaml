paths:
  /courses:
    get:
      security:
        - bearerAuth: []
      tags:
        - Courses
      summary: Find all courses.
      description: Finds and returns an array with a list of all your own courses.
      produces:
        - application/json
      parameters:
        - in: query
          name: skip
          schema:
            type: string
          required: false
        - in: query
          name: limit
          schema:
            type: string
          required: false
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/definitions/course'
              example:
                - _id: 64045f98b131dd04d7896af6
                  title: Advanced English
                  description: Advanced english course with 5 modules and separated lessons for improving speaking, listening and reading.
                  author: 63da8767c9ad4c9a0b0eacd3
                  category: 64884f33fdc2d1a130c24ac2
                  subject: 6488509cfdc2d1a130c24ae4
                  proficiencyLevel: [Advanced]
                  sections:
                    - title: Section First
                      description: some description
                      lessons: [63ed1cd25e9d781cdb6a6b17, 63ac1ad47e9d526cdb6f4n51]
                      quizzes: [64ba39c714b7bc037a29d712]
                      attachments: [63ed1cd25e9d781cdb6a6b15]
                  createdAt: 2023-11-15T16:15:09.004Z
                  updatedAt: 2023-11-15T16:15:09.004Z
                - _id: 640461e3cfdda3f3d16dcac5
                  title: Advanced Ukrainian
                  description: Advanced Ukrainian course with 5 modules and separated lessons for improving speaking, listening and reading.
                  author: 63da8767c9ad4c9a0b0eacd3
                  category: 64884f33fdc2d1a130c24ac2
                  subject: 6488509cfdc2d1a130c24ae4
                  proficiencyLevel: [Advanced]
                  sections:
                    - title: Section Second
                    - description: some description
                    - lessons: [63ed1cd25e9d781cdb6a6b17, 63ac1ad47e9d526cdb6f4n51]
                    - quizzes: [64ba39c714b7bc037a29d712]
                    - attachments: [63ed1cd25e9d781cdb6a6b15]
                  createdAt: 2023-20-01T13:25:36.292Z
                  updatedAt: 2023-20-01T13:25:36.292Z
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 401
                code: UNAUTHORIZED
                message: The requested URL requires user authorization.
        403:
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 403
                code: FORBIDDEN
                message: You do not have permission to perform this action.
    post:
      security:
        - bearerAuth: []
      tags:
        - Courses
      summary: Creates a new course.
      description: Creates a new course with possibility to link lessons, attach files and saves it to the database.
      produces:
        - application/json
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#definitions/courseBody'
            example:
              title: Advanced English
              description: Advanced english course with 5 modules and separated lessons for improving speaking, listening and reading.
              author: 63da8767c9ad4c9a0b0eacd3
              category: 64884f33fdc2d1a130c24ac2
              subject: 6488509cfdc2d1a130c24ae4
              proficiencyLevel: [Advanced]
              sections:
                - title: Section First
                  description: some description
                  lessons: [63ed1cd25e9d781cdb6a6b17, 63ac1ad47e9d526cdb6f4n51]
                  quizzes: [64ba39c714b7bc037a29d712]
                  attachments: [63ed1cd25e9d781cdb6a6b15]
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                $ref: '#definitions/course'
              example:
                title: Advanced English
                description: Advanced english course with 5 modules and separated lessons for improving speaking, listening and reading.
                author: 63da8767c9ad4c9a0b0eacd3
                category: 64884f33fdc2d1a130c24ac2
                subject: 6488509cfdc2d1a130c24ae4
                proficiencyLevel: [Advanced]
                sections:
                  - title: Section First
                    description: some description
                    lessons: [63ed1cd25e9d781cdb6a6b17, 63ac1ad47e9d526cdb6f4n51]
                    quizzes: [64ba39c714b7bc037a29d712]
                    attachments: [63ed1cd25e9d781cdb6a6b15]
                _id: 63ec1cd51e9d781cdb6f4b14
                createdAt: 2023-02-14T23:44:21.334Z
                updatedAt: 2023-02-14T23:44:21.334Z
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 401
                code: UNAUTHORIZED
                message: The requested URL requires user authorization.
        403:
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 403
                code: FORBIDDEN
                message: You do not have permission to perform this action.
  /courses/{id}:
    patch:
      security:
        - bearerAuth: []
      tags:
        - Courses
      summary: Update a course.
      description: Update a course by ID and restricted only for tutor
      produces:
        - application/json
      requestBody:
        required: false
        description: Data for update a course.
        content:
          application/json:
            schema:
              $ref: '#/definitions/courseBody'
            example:
              title: Defense Against the Dark Arts
      responses:
        204:
          description: No Content
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 400
                code: INVALID_ID
                message: ID is invalid.
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 401
                code: UNAUTHORIZED
                message: The requested URL requires user authorization.
        403:
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 403
                code: FORBIDDEN
                message: You do not have permission to perform this action.
        404:
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 404
                code: DOCUMENT_NOT_FOUND
                message: Course with the specified id was not found.
    get:
      security:
        - bearerAuth: []
      tags:
        - Courses
      summary: Find course by id.
      description: Finds and returns course by id.
      produces:
        - application/json
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the course that needs to be fetched
          type: string
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#definitions/course'
              example:
                title: Advanced English
                description: Advanced english course with 5 modules and separated lessons for improving speaking, listening and reading.
                author: 63da8767c9ad4c9a0b0eacd3
                category: 64884f33fdc2d1a130c24ac2
                subject: 6488509cfdc2d1a130c24ae4
                proficiencyLevel: [Advanced]
                sections:
                  - title: Section First
                    description: some description
                    lessons: [63ed1cd25e9d781cdb6a6b17, 63ac1ad47e9d526cdb6f4n51]
                    quizzes: [64ba39c714b7bc037a29d712]
                    attachments: [63ed1cd25e9d781cdb6a6b15]
                _id: 63ec1cd51e9d781cdb6f4b14
                createdAt: 2023-02-14T23:44:21.334Z
                updatedAt: 2023-02-14T23:44:21.334Z
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 401
                code: UNAUTHORIZED
                message: The requested URL requires user authorization.
        404:
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 404
                code: DOCUMENT_NOT_FOUND
                message: Course with the specified id was not found.
    delete:
      security:
        - bearerAuth: []
      tags:
        - Courses
      summary: Delete a course.
      description: Deletes a course by ID and restricted only for tutor
      produces:
        - application/json
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the course that needs to be deleted
          type: string
      responses:
        204:
          description: No Content
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 401
                code: UNAUTHORIZED
                message: The requested URL requires user authorization.
        403:
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 403
                code: FORBIDDEN
                message: You do not have permission to perform this action.
        404:
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 404
                code: DOCUMENT_NOT_FOUND
                message: Course with the specified id was not found.
