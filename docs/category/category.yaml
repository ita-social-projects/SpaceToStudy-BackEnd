paths:
  /categories:
    get:
      security:
        - bearerAuth: [ ]
      tags:
        - Categories
      summary: Find all categories
      description: Finds and returns an array with a list of categories
      produces:
        - application/json
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/definitions/categories'
              example:
                - _id: 64045f98b131dd04d7896af6
                  name: languages
                  categoryIcon: categories-icons/link-to-icon.png
                  subjectsIcon: subjects-icons/link-to-icon.png
                  totalOffers: 9
                  subjects:
                    $ref: '#/definitions/subjects'
                  createdAt: 2023-20-01T13:25:36.292Z
                  updatedAt: 2023-20-01T13:25:36.292Z
                - _id: 640461e3cfdda3f3d16dcac5
                  name: music
                  categoryIcon: categories-icons/link-to-icon.png
                  subjectsIcon: subjects-icons/link-to-icon.png
                  totalOffers: 1
                  subjects:
                    $ref: '#/definitions/subjects'
                  createdAt: 2023-20-01T13:25:36.292Z
                  updatedAt: 2023-20-01T13:25:36.292Z
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 401
                code: UNAUTHORIZED
                message: The requested URL requires user authorization.
    post:
      security:
        - bearerAuth: [ ]
      tags:
        - Categories
      summary: Create new category
      description: Saves a new category to the database
      produces:
        - application/json
      requestBody:
        required: true
        description: Data to create new category
        content:
          application/json:
            schema:
              $ref: '#/definitions/categoryBody'
            example:
              name: languages
              categoryIcon: categories-icons/link-to-icon.png
              subjectsIcon: subjects-icons/link-to-icon.png
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/definitions/category'
              example:
                _id: 640461e3cfdda3f3d16dcac5
                name: languages
                categoryIcon: categories-icons/link-to-icon.png
                subjectsIcon: subjects-icons/link-to-icon.png
                totalOffers: 0
                subjects:
                  $ref: '#/definitions/subjects'
                createdAt: 2023-20-01T13:25:36.292Z
                updatedAt: 2023-20-01T13:25:36.292Z
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 401
                code: UNAUTHORIZED
                message: The requested URL requires user authorization.
        403:
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 403
                code: FORBIDDEN
                message: You do not have permission to perform this action.
        409:
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 409
                code: CATEGORY_ALREADY_EXISTS
                message: Category with the specified name already exists.
    patch:
      security:
        - bearerAuth: [ ]
      tags:
        - Categories
      summary: Update category by ID
      description: Finds and update a category with the specified ID.
      produces:
        - application/json
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the category that needs to be updated
          type: string
      requestBody:
        required: true
        description: Provide required data to update subject.
        content:
          application/json:
            schema:
              $ref: '#/definitions/categoryBody'
            example:
              name: music
      responses:
        204:
          description: No Content
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 400
                code: INVALID_ID
                message: ID is invalid.
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 401
                code: UNAUTHORIZED
                message: The requested URL requires user authorization.
        403:
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 403
                code: FORBIDDEN
                message: You do not have permission to perform this action.
        404:
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 404
                code: CATEGORY_NOT_FOUND
                message: Category with the specified id was not found.
    delete:
      security:
        - bearerAuth: [ ]
      tags:
        - Categories
      summary: Delete category by ID
      description: Finds and deletes a category with the specified ID.
      produces:
        - application/json
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the category that needs to be deleted
          type: string
      responses:
        204:
          description: No Content
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 400
                code: INVALID_ID
                message: ID is invalid.
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 401
                code: UNAUTHORIZED
                message: The requested URL requires user authorization.
        403:
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 403
                code: FORBIDDEN
                message: You do not have permission to perform this action.
        404:
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/Error'
              example:
                status: 404
                code: CATEGORY_NOT_FOUND
                message: Category with the specified id was not found.
